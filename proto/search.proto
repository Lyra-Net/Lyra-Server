syntax = "proto3";

package search;
option go_package = "github.com/trandinh0506/BypassBeats/proto/gen/search;search";

service SearchService {
  rpc Search(SearchRequest) returns (SearchResponse);
}

message SearchRequest {
  string query = 1;
  string type = 2; // "song" | "artist" | "playlist" | "all"
}

message SearchResponse {
  bool success = 1;
  string error = 2;
  repeated Song songs = 3;
  repeated Artist artists = 4;
  repeated Playlist playlists = 5;
  int32 total_hits = 6;
}

message Song {
  string id = 1;
  string title = 2;
  repeated Artist artists = 3;
}

message Artist {
  int32 id = 1;
  string name = 2;
}

message Playlist {
  string playlist_id = 1;
  string playlist_name = 2;
  int32 song_count = 3;
  repeated string search_keys = 4;
}
