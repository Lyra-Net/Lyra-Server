syntax = "proto3";

package playlist;

option go_package = "github.com/trandinh0506/BypassBeats/proto/gen/playlist;playlist";

message PlaylistSong {
  string song_id = 1;
  string title = 2;
  repeated string title_token = 3;
  repeated string categories = 4;
  int32 position = 5;
}

message Playlist {
  string playlist_id = 1;
  string playlist_name = 2;
  string owner_id = 3;
  bool is_public = 4;
  repeated PlaylistSong songs = 5;
}

message CreatePlaylistRequest {
  string playlist_name = 1;
  bool is_public = 2;
}

message CreatePlaylistResponse {
  string playlist_id = 1;
  bool is_success = 2;
}

message AddSongToPlaylistRequest {
  string playlist_id = 1;
  string song_id = 2;
}

message AddSongToPlaylistResponse {
  bool is_success = 1;
}

message RemoveSongFromPlaylistRequest {
  string playlist_id = 1;
  string song_id = 2;
}

message RemoveSongFromPlaylistResponse {
  bool is_success = 1;
}

message MoveSongInPlaylistRequest {
  string playlist_id = 1;
  string song_id = 2;
  int32 new_position = 3;
}

message MoveSongInPlaylistResponse {
  bool is_success = 1;
}

message GetPlaylistByIDRequest {
  string playlist_id = 1;
}

message ListMyPlaylistsRequest {}

message ListMyPlaylistsResponse {
  repeated Playlist playlists = 1;
}

message UpdatePlaylistRequest {
  string playlist_id = 1;
  string playlist_name = 2;
  bool is_public = 3;
}

message UpdatePlaylistResponse {
  Playlist playlist = 1;
  bool is_success = 2;
}

message DeletePlaylistRequest {
  string playlist_id = 1;
}

message DeletePlaylistResponse {
  bool is_success = 1;
}

service PlaylistService {
  rpc CreatePlaylist(CreatePlaylistRequest) returns (CreatePlaylistResponse);
  rpc AddSongToPlaylist(AddSongToPlaylistRequest) returns (AddSongToPlaylistResponse);
  rpc RemoveSongFromPlaylist(RemoveSongFromPlaylistRequest) returns (RemoveSongFromPlaylistResponse);
  rpc MoveSongInPlaylist(MoveSongInPlaylistRequest) returns (MoveSongInPlaylistResponse);
  rpc GetPlaylistByID(GetPlaylistByIDRequest) returns (Playlist);
  rpc ListMyPlaylists(ListMyPlaylistsRequest) returns (ListMyPlaylistsResponse);
  rpc UpdatePlaylist(UpdatePlaylistRequest) returns (UpdatePlaylistResponse);
  rpc DeletePlaylist(DeletePlaylistRequest) returns (DeletePlaylistResponse);
}
